{% extends "base.html" %} {% block title %}To√†n b·ªô b·ªô th·ªß{% endblock %} {% block
content %}
<h1 class="text-center mb-4">Danh s√°ch to√†n b·ªô b·ªô th·ªß</h1>

<!-- Form t√¨m ki·∫øm -->
<form
  method="get"
  action="{{ url_for('all_radicals') }}"
  class="form-inline mb-4 justify-content-center"
>
  <input
    type="text"
    name="q"
    class="form-control mr-2"
    placeholder="T√¨m ki·∫øm b·ªô th·ªß, nghƒ©a ho·∫∑c Pinyin"
    value="{{ query }}"
  />
  <button type="submit" class="btn btn-primary">T√¨m ki·∫øm</button>
</form>

<!-- B·∫£ng hi·ªÉn th·ªã b·ªô th·ªß -->
<table class="table table-striped table-bordered">
  <thead class="thead-dark">
    <tr>
      <th class="text-center">STT</th>
      <th class="text-center">B·ªô Th·ªß</th>
      <th class="text-center">Pinyin</th>
      <th class="text-center">Nghƒ©a H√°n Vi·ªát</th>
      <th class="text-center">ƒê·ªçc</th>
    </tr>
  </thead>
  <tbody>
    {% for radical in radicals %}
    <tr>
      <td class="text-center">{{ (page - 1) * per_page + loop.index }}</td>
      <td class="text-center" style="font-size: 24px">{{ radical.radical }}</td>
      <td class="text-center">{{ radical.pinyin }}</td>
      <td>{{ radical.meaning }}</td>
      <td class="text-center">
        <!-- N√∫t nghe -->
        <button
          onclick="playSound('audio-player-{{ loop.index }}')"
          class="sound-button"
        >
          üîä
        </button>
        <!-- Ph·∫ßn √¢m thanh -->
        <audio id="audio-player-{{ loop.index }}">
          <source
            src="{{ url_for('static', filename='audio/' + radical.pinyin + '.mp3') }}"
            type="audio/mpeg"
          />
          Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ th·∫ª √¢m thanh.
        </audio>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!-- Ph√¢n trang -->
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    {% if page > 1 %}
    <li class="page-item">
      <a
        class="page-link"
        href="{{ url_for('all_radicals', page=page-1, q=query) }}"
        aria-label="Previous"
      >
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% endif %} {% for p in range(1, pages + 1) %}
    <li class="page-item {% if p == page %}active{% endif %}">
      <a class="page-link" href="{{ url_for('all_radicals', page=p, q=query) }}"
        >{{ p }}</a
      >
    </li>
    {% endfor %} {% if page < pages %}
    <li class="page-item">
      <a
        class="page-link"
        href="{{ url_for('all_radicals', page=page+1, q=query) }}"
        aria-label="Next"
      >
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    {% endif %}
  </ul>
</nav>
<script>
  function playSound(audioId) {
    var audio = document.getElementById(audioId);
    audio.play();
  }
</script>
{% endblock %}
